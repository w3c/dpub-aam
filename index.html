<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="generator" content="ReSpec 26.9.4">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
		
<title>Digital Publishing Accessibility API Mappings</title>
		
		
<script src="common/script/jquery-1.9.0.min.js"></script>
		
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>
		
		
                
<script src="common/script/mapping-tables.js"></script>
		
<link href="common/css/mapping-tables.css" rel="stylesheet" type="text/css">
		
<link href="common/css/common.css" rel="stylesheet" type="text/css">
		
		
		
<script src="common/script/jquery.details.min.js"></script>
		
<script type="text/javascript">

var mappingTableLabels = {
  viewByTable: "View as a single table",
  expand: "Expand all",
  collapse: "Collapse all",
  showHideCols: "Show/Hide Columns:",
  showActionText: "Show",
  hideActionText: "Hide",
  showToolTipText: "Show column",
  hideToolTipText: "Hide column",

  // map where keys are @id of associated mapping table:
  viewByLabels: {
    "role-mapping-table": "View by roles",
    "state-property-mapping-table": "View by state/property",
    "event-mapping-table": "View by state/property"
  }
}
</script>
	
<meta name="description" content="The Digital Publishing Accessibility API Mappings (DPub-AAM) defines how
    user agents map
    the Digital Publishing WAI-ARIA Module [dpub-aria-1.0] markup
    to platform accessibility APIs.
    It is intended for user agent developers
    responsible for accessibility in their user agent so that they can support the accessibility content produced for digital publishing.">
<link rel="canonical" href="https://www.w3.org/TR/dpub-aam-1.0/">
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "github": "w3c/dpub-aam",
  "doJsonLd": true,
  "specStatus": "ED",
  "shortName": "dpub-aam-1.0",
  "copyrightStart": "2015",
  "license": "document",
  "edDraftURI": "https://w3c.github.io/dpub-aam/",
  "editors": [
    {
      "name": "Joanmarie Diggs",
      "mailto": "jdiggs@igalia.com",
      "company": "Igalia, S.L.",
      "companyURI": "https://www.igalia.com",
      "w3cid": 68182,
      "url": "mailto:jdiggs@igalia.com"
    }
  ],
  "formerEditors": [
    {
      "name": "Richard Schwerdtfeger",
      "mailto": "richschwer@gmail.com",
      "company": "Knowbility",
      "companyURI": "https://www.knowbility.org/",
      "w3cid": 2460,
      "url": "mailto:richschwer@gmail.com"
    }
  ],
  "group": "aria",
  "tocIntroductory": true,
  "ariaSpecURLs": {
    "ED": "https://w3c.github.io/aria/",
    "FPWD": "https://www.w3.org/TR/wai-aria-1.2/",
    "WD": "https://www.w3.org/TR/wai-aria-1.2/",
    "REC": "https://www.w3.org/TR/wai-aria-1.2/"
  },
  "accNameURLs": {
    "ED": "https://w3c.github.io/accname/",
    "WD": "https://www.w3.org/TR/accname-1.2/",
    "FPWD": "https://www.w3.org/TR/accname-1.2/",
    "REC": "https://www.w3.org/TR/accname-1.2/"
  },
  "coreMappingURLs": {
    "ED": "https://w3c.github.io/core-aam/",
    "WD": "https://www.w3.org/TR/core-aam-1.2/",
    "FPWD": "https://www.w3.org/TR/core-aam-1.2/",
    "REC": "https://www.w3.org/TR/core-aam-1.2/"
  },
  "dpubModURLs": {
    "ED": "https://w3c.github.io/dpub-aria/",
    "FPWD": "https://www.w3.org/TR/dpub-aria-1.1/",
    "WD": "https://www.w3.org/TR/dpub-aria-1.1/",
    "REC": "https://www.w3.org/TR/dpub-aria-1.1/"
  },
  "preProcess": [
    null,
    null
  ],
  "postProcess": [],
  "xref": [
    "core-aam",
    "accname",
    "wai-aria"
  ],
  "publishDate": "2021-07-21",
  "publishISODate": "2021-07-21T00:00:00.000Z",
  "generatedSubtitle": "Editor's Draft 21 July 2021"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED"></head>
	<body class="h-entry" style="zoom: 1;" data-cite="core-aam accname wai-aria"><div class="head">
    <a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72">
  </a> <h1 id="title" class="title">Digital Publishing Accessibility API Mappings</h1>
    
    <h2>
      W3C Editor's Draft
      <time class="dt-published" datetime="2021-07-21">21 July 2021</time>
    </h2>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://w3c.github.io/dpub-aam/">https://w3c.github.io/dpub-aam/</a>
            </dd><dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/TR/dpub-aam-1.0/">https://www.w3.org/TR/dpub-aam-1.0/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/dpub-aam/">https://w3c.github.io/dpub-aam/</a></dd>
      
      
      
      
      
      <dt>Editor:</dt>
      <dd class="editor p-author h-card vcard" data-editor-id="68182">
    <a class="ed_mailto u-email email p-name" href="mailto:jdiggs@igalia.com">Joanmarie Diggs</a> (<span class="p-org org h-org">Igalia, S.L.</span>)
  </dd>
      <dt>
              Former editor:
            </dt><dd class="editor p-author h-card vcard" data-editor-id="2460">
    <a class="ed_mailto u-email email p-name" href="mailto:richschwer@gmail.com">Richard Schwerdtfeger</a> (<span class="p-org org h-org">Knowbility</span>)
  </dd>
      
      <dt>Participate:</dt><dd>
    <a href="https://github.com/w3c/dpub-aam/">GitHub w3c/dpub-aam</a>
  </dd><dd>
    <a href="https://github.com/w3c/dpub-aam/issues/">File an issue</a>
  </dd><dd>
    <a href="https://github.com/w3c/dpub-aam/commits/gh-pages">Commit history</a>
  </dd><dd>
    <a href="https://github.com/w3c/dpub-aam/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2015-2021
    
    <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
    <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>,
    <a href="https://ev.buaa.edu.cn/">Beihang</a>). 
    W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules
    apply.
  </p>
    <hr title="Separator for header">
  </div>
		<section id="abstract" class="introductory"><h2>Abstract</h2>
  <p>
    The Digital Publishing Accessibility <abbr title="application programming interface">API</abbr> Mappings (DPub-AAM) defines how
    <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> map
    the Digital Publishing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Module [<cite><a class="bibref" data-link-type="biblio" href="#bib-dpub-aria-1.0" title="Digital Publishing WAI-ARIA Module 1.0">dpub-aria-1.0</a></cite>] markup
    to platform <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessibility-api">accessibility <abbr title="Application Programming Interfaces">APIs</abbr></a>.
    It is intended for user agent developers
    responsible for accessibility in their user agent so that they can support the accessibility content produced for digital publishing.
  </p>
  <p>
    The implementation of this specification in user agents enables authors to produce more accessible e-books,
    by conveying structural book constructs used by the digital publishing industry to assistive technologies.
    It does this by extending the
    <cite><a href="http://www.w3.org/TR/core-aam-1.1/">Core Accessibility <abbr title="application programming interface">API</abbr> Mappings 1.1</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>]
    and the <cite><a href="http://www.w3.org/TR/accname-aam-1.1/">Accessible Name and Description: Computation and <abbr title="application programming interface">API</abbr> Mappings 1.1</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-accname-aam-1.1" title="Accessible Name and Description Computation 1.1">ACCNAME-AAM-1.1</a></cite>] specifications
    for user agents.
    It provides Accessibility <abbr title="application programming interface">API</abbr> Mapping guidance for the roles defined in the Digital Publish <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Module.
  </p>
  <p>
      The DPub-AAM is part of the
    <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> suite
    described in the <a href="http://www.w3.org/WAI/intro/aria.php"><abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Overview</a>.
  </p>

		</section>
		<section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. Other documents may supersede
      this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
      of this technical report can be found in the
      <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p> <p>
    This document was published by the <a href="https://www.w3.org/WAI/ARIA/">Accessible Rich Internet Applications Working Group</a> as an
    Editor's Draft. 
    
  </p><p>
    <a href="https://github.com/w3c/dpub-aam/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    
  </p><p>
      Publication as an Editor's Draft does not imply endorsement
      by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. 
    </p><p>This is a draft document and may be updated, replaced
  or obsoleted by other documents at any time. It is inappropriate to cite this
  document as other than work in progress.
  </p><p></p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy-20170801/">1 August 2017 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
       
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/aria/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy-20170801/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy-20170801/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
    
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2020/Process-20200915/">15 September 2020 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#keyboard-focus"><bdi class="secno">3. </bdi>Supporting Keyboard Navigation</a></li><li class="tocline"><a class="tocxref" href="#mapping"><bdi class="secno">4. </bdi>Mapping <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> to Accessibility <abbr title="Application Programming Interfaces">APIs</abbr></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#mapping_general"><bdi class="secno">4.1 </bdi>General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mapping_conflicts"><bdi class="secno">5. </bdi>Conflicts between native markup semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></a></li><li class="tocline"><a class="tocxref" href="#mapping_nodirect"><bdi class="secno">6. </bdi>Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties</a></li><li class="tocline"><a class="tocxref" href="#mapping_role"><bdi class="secno">7. </bdi>Role mapping</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#roleMappingGeneralRules"><bdi class="secno">7.1 </bdi>General Rules</a></li><li class="tocline"><a class="tocxref" href="#mapping_role_table"><bdi class="secno">7.2 </bdi>Role Mapping Table</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mapping_state-property"><bdi class="secno">8. </bdi>State and Property Mapping</a></li><li class="tocline"><a class="tocxref" href="#mapping_additional"><bdi class="secno">9. </bdi>Special Processing Requiring Additional Computation</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#mapping_additional_nd"><bdi class="secno">9.1 </bdi>Name and Description</a></li><li class="tocline"><a class="tocxref" href="#mapping_additional_widget-value"><bdi class="secno">9.2 </bdi>Widget Values</a></li><li class="tocline"><a class="tocxref" href="#mapping_additional_relations"><bdi class="secno">9.3 </bdi>Relations</a></li><li class="tocline"><a class="tocxref" href="#mapping_additional_position"><bdi class="secno">9.4 </bdi>Group Position</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mapping_actions"><bdi class="secno">10. </bdi>Actions</a></li><li class="tocline"><a class="tocxref" href="#mapping_events"><bdi class="secno">11. </bdi>Events</a></li><li class="tocline"><a class="tocxref" href="#document-handling"><bdi class="secno">12. </bdi>Special Document Handling Procedures</a></li><li class="tocline"><a class="tocxref" href="#appendices"><bdi class="secno">A. </bdi>Appendices</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">A.1 </bdi>Change Log</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#substantive-changes-since-the-last-public-working-draft"><bdi class="secno">A.1.1 </bdi>Substantive changes since the <span class="formerLink">last public working draft</span></a></li></ol></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">A.2 </bdi>Acknowledgments</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ack_dpub"><bdi class="secno">A.2.1 </bdi>Participants active in the DPUB-ARIA task force at the time of publication</a></li><li class="tocline"><a class="tocxref" href="#ack_funders"><bdi class="secno">A.2.2 </bdi>Enabling funders</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2 </bdi>Informative references</a></li></ol></li></ol></nav>
		<section id="intro" class="informative">
			<h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction<a class="self-link" aria-label="§" href="#intro"></a></h2><p><em>This section is non-normative.</em></p>
		</section>
		<section id="conformance" class="normative"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h2><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">OPTIONAL</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">REQUIRED</em>, <em class="rfc2119">SHALL</em>, <em class="rfc2119">SHALL NOT</em>, and <em class="rfc2119">SHOULD</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
			<p>This specification indicates whether a section is <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-normative">normative</a> or <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-informative">informative</a> and the classification applies to the entire section. A statement "This section is normative" or "This section is informative" applies to all sub-sections of that section.</p>
			<p>Normative sections provide requirements that <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> must follow for an implementation to conform to this specification. The keywords <strong class="rfc2119"><em class="rfc2119">MUST</em></strong>, <strong class="rfc2119"><em class="rfc2119">MUST NOT</em></strong>, <strong class="rfc2119"><em class="rfc2119">REQUIRED</em></strong>, <strong class="rfc2119"><em class="rfc2119">SHALL</em></strong>, <strong class="rfc2119"><em class="rfc2119">SHALL NOT</em></strong>, <strong class="rfc2119"><em class="rfc2119">SHOULD</em></strong>, <strong class="rfc2119"><em class="rfc2119">RECOMMENDED</em></strong>, <strong class="rfc2119"><em class="rfc2119">MAY</em></strong>, and <strong class="rfc2119"><em class="rfc2119">OPTIONAL</em></strong> in this document are to be interpreted as described in <cite><a href="http://www.rfc-editor.org/rfc/rfc2119.txt">Keywords for use in RFCs to indicate requirement levels</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>]. RFC-2119 keywords are formatted in uppercase and contained in a <code>strong</code> element with <code>class="rfc2119"</code>. When the keywords shown above are used, but do not share this format,
				they do not convey formal information in the RFC 2119 sense, and are merely explanatory, i.e., informative. As much as possible, such usages are avoided in this specification.</p>
			<p>Informative sections provide information useful to understanding the specification. Such sections may contain examples of recommended practice, but it is not required to follow such recommendations in order to conform to this specification.</p>
		</section>
		<section class="section" id="keyboard-focus">
			<h2 id="x3-supporting-keyboard-navigation"><bdi class="secno">3. </bdi>Supporting Keyboard Navigation<a class="self-link" aria-label="§" href="#keyboard-focus"></a></h2>
			<p>Enabling keyboard navigation in web applications is a necessary step toward making accessible web applications possible. Conforming <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to <a class="core-mapping" href="https://w3c.github.io/core-aam/#keyboard-focus">Supporting Keyboard Navigation</a> requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
		</section>
		<section id="mapping">
			<h2 id="x4-mapping-wai-aria-to-accessibility-apis"><bdi class="secno">4. </bdi>Mapping <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> to Accessibility <abbr title="Application Programming Interfaces">APIs</abbr><a class="self-link" aria-label="§" href="#mapping"></a></h2>
			<section id="mapping_general">
				<h3 id="x4-1-general-rules-for-exposing-wai-aria-semantics"><bdi class="secno">4.1 </bdi>General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics<a class="self-link" aria-label="§" href="#mapping_general"></a></h3>
				<p>This section <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to <a class="core-mapping" href="https://w3c.github.io/core-aam/#mapping_general">General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
			</section>
		</section>
		<section id="mapping_conflicts">
			<h2 id="x5-conflicts-between-native-markup-semantics-and-wai-aria"><bdi class="secno">5. </bdi>Conflicts between native markup semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr><a class="self-link" aria-label="§" href="#mapping_conflicts"></a></h2>
			<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to <a class="core-mapping" href="https://w3c.github.io/core-aam/#mapping_conflicts">Conflicts between native markup semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>]. </p>
		</section>
		<section id="mapping_nodirect">
			<h2 id="x6-exposing-attributes-that-do-not-directly-map-to-accessibility-api-properties"><bdi class="secno">6. </bdi>Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties<a class="self-link" aria-label="§" href="#mapping_nodirect"></a></h2>
			<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to <a class="core-mapping" href="https://w3c.github.io/core-aam/#mapping_nodirect">Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
		</section>
		<section id="mapping_role">
			<h2 id="x7-role-mapping"><bdi class="secno">7. </bdi>Role mapping<a class="self-link" aria-label="§" href="#mapping_role"></a></h2>
			<p>Platform <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessibility-api">accessibility <abbr title="Application Programming Interfaces">APIs</abbr></a> traditionally have had a finite set of predefined <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-role">roles</a> that are expected by <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-assistive-technology">assistive technologies</a> on that platform and only one or two roles may be exposed. In contrast, <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> allows multiple roles to be specified as an ordered set of space-separated valid role tokens. The additional roles are fallback roles similar to the concept of specifying multiple fonts in case the first choice font type is not supported.</p>
			<section id="roleMappingGeneralRules">
				<h3 id="x7-1-general-rules"><bdi class="secno">7.1 </bdi>General Rules<a class="self-link" aria-label="§" href="#roleMappingGeneralRules"></a></h3>
				<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the Role Mapping <a class="core-mapping" href="https://w3c.github.io/core-aam/#roleMappingGeneralRules">General Rules</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
			</section>
			<section id="mapping_role_table">
				<h3 id="x7-2-role-mapping-table"><bdi class="secno">7.2 </bdi>Role Mapping Table<a class="self-link" aria-label="§" href="#mapping_role_table"></a></h3>
                <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><p class="">Translators: For label text associated with the following table and its toggle buttons, see the <code>mappingTableLabels</code> object in the <code>&lt;head&gt;</code> section of this document.</p></div>
				<p> This section defines how <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> digital publishing roles map to platform accessibility <abbr title="application programming interfaces">APIs</abbr>. Elements having roles with a prefix value of <code>doc-</code>, that are not listed in this role mapping table, have no normative mappings. 
				</p>
                               <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div><p class="">There are a number of roles mappings that are localized. The group needs to look into localizing for non-English languages.</p></div>
				<div class="table-container" style="display: none;">
					<table class="map-table elements" id="role-mapping-table">
						<caption>Table describing mapping of <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> roles to accessibility <abbr title="application programming interfaces">APIs</abbr>.</caption>
						<thead>
							<tr>
								<th><abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Role</th>
								<th>MSAA + IAccessible2 Role + Other IAccessible2 Features</th>
								<th><abbr title="User Interface Automation">UIA</abbr> Control Type + Other Features</th>
          						<th><abbr title="Accessibility Toolkit">ATK</abbr>/<abbr title="Assistive Technology - Service Provider Interface">AT-SPI</abbr> Role</th>
								<th><abbr title="Mac OS X Accessibility Protocol">AXAPI</abbr></th>
							</tr>
						</thead>
						<tbody>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-abstract"><code>doc-abstract</code></a></th>
                                                                <td>
									Expose IAccessible2: 
									<ul>
										<li><code>IA2_ROLE_SECTION</code></li>
										<li>Object attribute <code>xml-roles:doc-abstract</code>. </li>
									</ul>
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>abstract</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-abstract</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                       <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-acknowledgments"><code>doc-acknowledgments</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-acknowledgments</code>. </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>acknowledgements</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>acknowledgements</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code><code>ROLE_LANDMARK</code></code> and object attribute <code>xml-roles:doc-acknowledgments</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
							<tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-afterword"><code>doc-afterword</code></a></th>
								<td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-afterword</code>. </li>
                                                                        </ul>
                                                                </td>

                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>afterword</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>afterword</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-afterword</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-appendix"><code>doc-appendix</code></a></th>
								<td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-appendix</code>. </li>
                                                                        </ul>
                                                                </td>

                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>appendix</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>appendix</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-appendix</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-backlink"><code>doc-backlink</code></a></th>
                                                                <td>
								 	Expose
										<ul>
											<li><code>ROLE_SYSTEM_LINK</code> + <code>STATE_LINKED</code></li> 
											<li><code>STATE_LINKED</code> on all descendants</li>
										</ul>
<p>IAccessible2: </p>
										<ul>
											<li>Object attribute <code>xml-roles:doc-backlink</code>.</li>
                                                                    			<li><code>AccessibleHypertext</code> interface</li>
										</ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>backlink</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LINK</code> and object attribute <code>xml-roles:doc-backlink</code>. </p></td>
                                                                <td>AXRole: <code>AXLink</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'link'</code>
                                                                </td>

                                                        </tr>

                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-biblioentry"><code>doc-biblioentry</code></a></th>
                                                                <td>
									Expose
									<p><code>ROLE_SYSTEM_LISTITEM</code> + <code>STATE_SYSTEM_READONLY</code></p>
									<p>IAccessible2:</p><p>Object attribute <code>xml-roles:doc-biblioentry</code>.</p></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>biblioentry</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LIST_ITEM</code> and object attribute <code>xml-roles:doc-bilioentry</code>.</p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-biblioentry"><code>doc-bibliography</code></a></th>
								<td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-bibliography</code>. </li>
                                                                        </ul>
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>bibliography</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>biblography</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-bibliography</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-biblioref"><code>doc-biblioref</code></a></th>
								<td>
                                                                        Expose
                                                                                <ul>
                                                                                        <li><code>ROLE_SYSTEM_LINK</code> + <code>STATE_LINKED</code></li>
                                                                                        <li><code>STATE_LINKED</code> on all descendants</li>
                                                                                </ul>
<p>IAccessible2: </p>
                                                                                <ul>
                                                                                        <li>Object attribute <code>xml-roles:doc-biblioref</code>.</li>
                                                                                        <li><code>AccessibleHypertext</code> interface</li>
                                                                                </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>biblioref</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LINK</code> and object attribute <code>xml-roles:doc-biblioref</code>. </p></td>
                                                                <td>AXRole: <code>AXLink</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'link'</code>
                                                                </td>
                                                        </tr>

                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-chapter"><code>doc-chapter</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-chapter</code>. </li>
                                                                        </ul>
                                                                </td>
								<td>
								  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
								    <li>Localized Control Type is '<code>chapter</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>chapter</code>'</li>
								  </ul>
								</td>
								<td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:chapter</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
							</tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-colophon"><code>doc-colophon</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2: Object attribute <code>xml-roles:doc-colophon</code>. </p></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>colophon</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-colophon</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>

                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-conclusion"><code>doc-conclusion</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-conclusion</code>. </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>conclusion</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>conclusion</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-conclusion</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-cover"><code>doc-cover</code></a></th>
                                                                <td>Expose <p><code>ROLE_SYSTEM_GRAPHIC</code></p>  
								<p>IAccessible2: Object attribute <code>xml-roles:doc-cover</code>. </p>
								</td>
                                                                <td>Control Type is <code>Image</code>
                                                                </td>
                                                                <td> <p>expose <code>ROLE_IMAGE</code> and
									object attribute <code>xml-roles:doc-cover</code>. </p> 
								</td>
                                                                <td>AXRole: <code>AXImage</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'image'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-cover"><code>doc-credit</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2:</p> Object attribute <code>xml-roles:doc-credit</code></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>credit</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-credit</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
								</td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-credits"><code>doc-credits</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-credits</code>. </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>credits</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>credits</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-credits</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
								</td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-dedication"><code>doc-dedication</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2:</p> Object attribute <code>xml-roles:doc-dedication</code></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>dedication</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-dedication</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-endnote"><code>doc-endnote</code></a></th>
                                                                <td>
                                                                        Expose
                                                                        <p><code>ROLE_SYSTEM_LISTITEM</code> + <code>STATE_SYSTEM_READONLY</code></p>
                                                                        <p>IAccessible2:</p><p>Object attribute <code>xml-roles:doc-endnote</code>.</p></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>endnote</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LIST_ITEM</code> and object attribute <code>xml-roles:doc-endnote</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-endnote"><code>doc-endnotes</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-endnotes</code>. </li>
                                                                        </ul>
                                                                </td>

                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>endnotes</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>endnotes</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-endnotes</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>

                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-epigraph"><code>doc-epigraph</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2:</p> Object attribute <code>xml-roles:doc-epigraph</code></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>epigraph</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-epigraph</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-epilogue"><code>doc-epilogue</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-epilogue</code>. </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>epilogue</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>epilogue</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-epilogue</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>

                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-cover"><code>doc-errata</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-errata</code></li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>errata</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>errata</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-errata</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-cover"><code>doc-example</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2:</p> Object attribute <code>xml-roles:doc-example</code></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>example</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-example</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-footnote"><code>doc-footnote</code></a></th>
                                                                <td><p>Expose IAccessible2:</p>
									<ul>
										<li><code>IA2_ROLE_FOOTNOTE</code></li>
										<li>Object attribute: <code>xml-roles:doc-footnote</code></li>
									</ul>
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>footnote</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_FOOTNOTE</code> and object attribute <code>xml-roles:doc-footnote</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-foreword"><code>doc-foreword</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-foreword</code></li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>foreword</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>foreword</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-foreword</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-glossary"><code>doc-glossary</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-glossary</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>glossary</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>glossary</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-glossary</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-glossref"><code>doc-glossref</code></a></th>
								<td>
                                                                        Expose
                                                                                <ul>
                                                                                        <li><code>ROLE_SYSTEM_LINK</code> + <code>STATE_LINKED</code></li>
                                                                                        <li><code>STATE_LINKED</code> on all descendants</li>
                                                                                </ul>
<p>IAccessible2: </p>
                                                                                <ul>
                                                                                        <li>Object attribute <code>xml-roles:doc-glossref</code>.</li>
                                                                                        <li><code>AccessibleHypertext</code> interface</li>
                                                                                </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>glossref</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LINK</code> and object attribute <code>xml-roles:doc-glossref</code>. </p></td>
                                                                <td>AXRole: <code>AXLink</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'link'</code>
                                                                </td>

                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-index"><code>doc-index</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-index</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>index</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>index</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-index</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkNavigation</code><br>
                                                                    AXRoleDescription: <code>'navigation'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-introduction"><code>doc-introduction</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-introduction</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>introduction</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>introduction</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-introduction</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>

                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-noteref"><code>doc-noteref</code></a></th>
                                                                <td>
                                                                        Expose
                                                                                <ul>
                                                                                        <li><code>ROLE_SYSTEM_LINK</code> + <code>STATE_LINKED</code></li>
                                                                                        <li><code>STATE_LINKED</code> on all descendants</li>
                                                                                </ul>
<p>IAccessible2: </p>
                                                                                <ul>
                                                                                        <li>Object attribute <code>xml-roles:doc-noteref</code>.</li>
                                                                                        <li><code>AccessibleHypertext</code> interface</li>
                                                                                </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>noteref</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LINK</code> and object attribute <code>xml-roles:doc-noteref</code>. </p></td>
                                                                <td>AXRole: <code>AXLink</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'link'</code>
                                                                </td>

                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-notice"><code>doc-notice</code></a></th>
                                                                <td>Expose
								    <p><code>IA2_ROLE_NOTE</code></p>
								    <p> IAccessible2:</p> Object attribute <code>xml-roles:doc-notice</code>.</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>notice</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_COMMENT</code> and object attribute <code>xml-roles:doc-notice</code>.</p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXDocumentNote</code><br>
                                                                    AXRoleDescription: <code>'note'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-pagebreak"><code>doc-pagebreak</code></a></th>
                                                                <td>Expose <p><code>ROLE_SYSTEM_SEPARATOR</code></p> 
								<p>IAccessible2:</p>
								Object attribute <code>xml-roles:doc-pagebreak</code>.
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>pagebreak</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SEPARATOR</code> and object attribute <code>xml-roles:doc-pagebreak</code>. </p></td>
                                                                <td>AXRole: <code>AXSplitter</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'splitter'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-pagelist"><code>doc-pagelist</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-pagelist</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>pagelist</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>pagelist</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td>Expose <p><code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-pagelist</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkNavigation</code><br>
                                                                    AXRoleDescription: <code>'navigation'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-part"><code>doc-part</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-part</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>part</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>part</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-part</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                        <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-preface"><code>doc-preface</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARKi</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-preface</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>preface</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>preface</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-pagebreak</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                         <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-prologue"><code>doc-prologue</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-prologue</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>prologue</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>prologue</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-prologue</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkRegion</code><br>
                                                                    AXRoleDescription: <code>'region'</code>
                                                                </td>
                                                        </tr>
                                                         <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-pullquote"><code>doc-pullquote</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_SECTION</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-pullquote</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>pullquote</code>'</li>
                                                                  </ul>
                                                                 </td>
                                                                 <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-pullquote</code>.</p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                         <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-preface"><code>doc-qna</code></a></th>
                                                                <td>Expose<p><code>IA2_ROLE_SECTION</code></p><p>IAccessible2:</p> Object attribute <code>xml-roles:doc-qna</code></td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>qna</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_SECTION</code> and object attribute <code>xml-roles:doc-qna</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXApplicationGroup</code><br>
                                                                    AXRoleDescription: <code>'group'</code>
                                                                </td>
                                                        </tr>
                                                         <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-preface"><code>doc-subtitle</code></a></th>
                                                                <td>Expose IAccessible2:
									<ul>
									 	<li><code>IA2_ROLE_HEADING</code></li>
										<li>Object attribute <code>xml-roles:doc-subtitle</code></li>
									</ul>
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>subtitle</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_HEADING</code> and object attribute <code>xml-roles:doc-subtitle</code>. </p></td>
                                                                <td>AXRole: <code>AXHeading</code><br>
                                                                        AXSubrole: <code>&lt;nil&gt;</code><br>
                                                                    AXRoleDescription: <code>'heading'</code>
                                                                </td>
                                                        </tr>
                                                         <tr>
                                                                <th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-tip"><code>doc-tip</code></a></th>
                                                                <td>
									Expose
									<p><code>IA2_ROLE_NOTE</code></p>
									<p>IAccessible2:</p>
									Object attribute <code>xml-roles:doc-tip</code>
								</td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>tip</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_COMMENT</code> and object attribute <code>xml-roles:doc-tip</code>. </p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXDocumentNote</code><br>
                                                                    AXRoleDescription: <code>'note'</code>
                                                                </td>
                                                        </tr>
							<tr>
								<th><a class="dpub-role-reference" href="https://w3c.github.io/dpub-aria/#doc-toc"><code>doc-toc</code></a></th>
                                                                <td>
                                                                        Expose IAccessible2:
                                                                        <ul>
                                                                                <li><code>IA2_ROLE_LANDMARK</code></li>
                                                                                <li>Object attribute <code>xml-roles:doc-toc</code> </li>
                                                                        </ul>
                                                                </td>
                                                                <td>
                                                                  <ul>
                                                                    <li>Control Type is <code>Text</code></li>
                                                                    <li>Localized Control Type is '<code>toc</code>'</li>
								    <li>Landmark Type is <code>Custom</code></li>
								    <li>Localized Landmark Type is '<code>toc</code>'</li>
                                                                  </ul>
                                                                </td>
                                                                <td><p>Expose <code>ROLE_LANDMARK</code> and object attribute <code>xml-roles:doc-toc</code>.</p></td>
                                                                <td>AXRole: <code>AXGroup</code><br>
                                                                        AXSubrole: <code>AXLandmarkNavigation</code><br>
                                                                    AXRoleDescription: <code>'navigation'</code>
                                                                </td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="note" role="note" id="ftn.note2"><div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div><div class="">
					<p><sup>[Note 2]</sup> This specification does not currently contain guidance for when <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> should fire system alert events. Some guidance may be added to the specification at a later date but it will be a recommendation (<span class="rfc2119">should</span>), not a requirement (<span class="rfc2119">must</span>).</p>
				</div></div>
			</section>
		</section>
		<section id="mapping_state-property">
			<h2 id="x8-state-and-property-mapping"><bdi class="secno">8. </bdi>State and Property Mapping<a class="self-link" aria-label="§" href="#mapping_state-property"></a></h2>
			<p>This section describes how to expose <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr>
				<a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-state">states</a> and <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-object">object</a>
				<a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-property">properties</a>. User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#mapping_state-property" class="core-mapping">State and Property Mapping</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>]. </p>
		</section>
		<section id="mapping_additional">
			<h2 id="x9-special-processing-requiring-additional-computation"><bdi class="secno">9. </bdi>Special Processing Requiring Additional Computation<a class="self-link" aria-label="§" href="#mapping_additional"></a></h2>
			<section id="mapping_additional_nd">
				<h3 id="x9-1-name-and-description"><bdi class="secno">9.1 </bdi>Name and Description<a class="self-link" aria-label="§" href="#mapping_additional_nd"></a></h3>
				<p>When computing an <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessible-name">accessible name</a> or <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessible-description">accessible description</a>, <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> <em class="rfc2119">MUST</em> conform to the section titled <a class="accname" href="https://w3c.github.io/accname/#mapping_additional_nd_te">Text Alternative Computation</a> of the [<cite><a class="bibref" data-link-type="biblio" href="#bib-accname-aam-1.1" title="Accessible Name and Description Computation 1.1">ACCNAME-AAM-1.1</a></cite>] specification. 
				</p>
			</section>
			<section id="mapping_additional_widget-value">
				<h3 id="x9-2-widget-values"><bdi class="secno">9.2 </bdi>Widget Values<a class="self-link" aria-label="§" href="#mapping_additional_widget-value"></a></h3>
				<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#mapping_additional_widget-value" class="core-mapping">Widget Values</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
			</section>
			<section id="mapping_additional_relations">
				<h3 id="x9-3-relations"><bdi class="secno">9.3 </bdi>Relations<a class="self-link" aria-label="§" href="#mapping_additional_relations"></a></h3>
				<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#mapping_additional_relations" class="core-mapping">Relation</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
			</section>
			<section id="mapping_additional_position">
				<h3 id="x9-4-group-position"><bdi class="secno">9.4 </bdi>Group Position<a class="self-link" aria-label="§" href="#mapping_additional_position"></a></h3>
				<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#mapping_additional_position" class="core-mapping">Group Position</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
			</section>
		</section>
		<section id="mapping_actions">
			<h2 id="x10-actions"><bdi class="secno">10. </bdi>Actions<a class="self-link" aria-label="§" href="#mapping_actions"></a></h2>
			<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#mapping_actions" class="core-mapping">Actions</a> accessibility <abbr title="application programming interface">API</abbr> computational requirements in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
		</section>
		<section id="mapping_events">
			<h2 id="x11-events"><bdi class="secno">11. </bdi>Events<a class="self-link" aria-label="§" href="#mapping_events"></a></h2>
			<p><a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">User agents</a> fire <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-event">events</a> for user actions, <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr>
				<a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-state">state</a> changes, changes to document content or node visibility, changes in selection, and operation of menus. Conforming <a class="termref informative" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-user-agent">user agents</a> <span class="rfc2119"><em class="rfc2119">MUST</em></span> support the [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>] <a class="core=mappings" href="#mapping_events">Events</a> mappings.</p>
		</section>
		<section id="document-handling">
			<h2 id="x12-special-document-handling-procedures"><bdi class="secno">12. </bdi>Special Document Handling Procedures<a class="self-link" aria-label="§" href="#document-handling"></a></h2>
			<p>User agents <span class="rfc2119"><em class="rfc2119">MUST</em></span> conform to the <a href="https://w3c.github.io/core-aam/#document-handling" class="core-mapping">Special Document Handling Procedures</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.1" title="Core Accessibility API Mappings 1.1">CORE-AAM-1.1</a></cite>].</p>
		</section>
		<section id="appendices" class="appendix">
			<h2 id="a-appendices"><bdi class="secno">A. </bdi>Appendices<a class="self-link" aria-label="§" href="#appendices"></a></h2>
        		<section class="appendix" id="changelog">
                		<h3 id="a-1-change-log"><bdi class="secno">A.1 </bdi>Change Log<a class="self-link" aria-label="§" href="#changelog"></a></h3>
                		<section id="substantive-changes-since-the-last-public-working-draft">
                        		<h4 id="a-1-1-substantive-changes-since-the-last-public-working-draft"><bdi class="secno">A.1.1 </bdi>Substantive changes since the <a href="https://www.w3.org/TR/2015/WD-dpub-aam-1.0-20151203/">last public working draft</a><a class="self-link" aria-label="§" href="#substantive-changes-since-the-last-public-working-draft"></a></h4>
                        		<ul>
                                		<li>20-Apr-2017: Update mappings. For <abbr title="Mac OS X Accessibility Protocol">AXAPI</abbr>, the AXSubrole is now AXApplicationGroup for the following roles: doc-abstract, doc-colophon, doc-dedication, doc-epigraph, doc-example, doc-footnote, doc-pullquote, and doc-qna; the AXRoleDescription of doc-abstract is now 'group'; doc-pagebreak is now mapped to AXRole: AXSplitter, AXRoleDescription: 'splitter'; doc-notice and doc-tip are now mapped to AXSubrole: AXDocumentNote, AXRoleDescription: 'note'. For <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI2, doc-tip is now mapped to ROLE_COMMENT.</li>
                                		<li>20-Apr-2017: Map doc-pullquote for <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI2, IA2, and <abbr title="User Interface Automation">UIA</abbr>.</li>
                                		<li>10-Mar-2016: Replace all ROLE_PANEL to ROLE_SECTION for <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI mappings</li>
                                		<li>10-Mar-2016: Replace doc-locator with doc-backlink</li>
						<li>10-Mar-2016: Remove doc-title</li>
                                		<li>10-Mar-2016: Remove doc-footnotes and add doc-endnote and doc-endnotes</li>
                                		<li>10-Mar-2016: Changed doc-pullquote to reflect no mappings</li>
                                		<li>10-Mar-2016: Change doc-cover to map to an image</li>
						<li>10-Mar-2016: Removed rendundant references section in the appendix</li>
						<li>10-Mar-2016: Fixed links for githumb.io in configuration</li>
						<li>10-Mar-2016: Added a change log </li>
                                                <li>10-Mar-2016: Remove editors note regarding @rel </li>
						<li>10-Mar-2016: change xml-roles mapping for doc-pagelist to reflect the actual role </li>
                                              	<li>10-Mar-2016: Fix doc-prologue in table to not say doc-preface </li>
                                              	<li>10-Mar-2016: Fix doc-conclusion to map to ROLE_LANDMARK for <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI </li>
						<li>10-Mar-2016: changed doc-pagebreak to map to separator roles on IA2 and <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI </li>
						<li>10-Mar-2016: modify doc-toc mapping to be consistent with doc-pagelist </li>
						<li>10-Mar-2016: modify doc-subtitle to be a form of heading</li>
						<li>10-Mar-2016: modify doc-pagebreak to be more like a separator</li>
						<li>10-Mar-2016: Map doc-biblioentry and doc-endnote to ROLE_LIST_ITEM for <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI2; map doc-notice to ROLE_COMMENT for <abbr title="Accessibility Toolkit">ATK</abbr>/ATSPI2</li>
						<li>14-Jul-2016: Remove special processing copied over from SVG-AAM for name and description computation.</li>
						<li>26-Sep-2016: For macOS, modify doc-abstract, doc-acknowledgments, doc-afterword, doc-appendix, doc-bibliography, doc-chapter, doc-conclusion, doc-credits, doc-endnotes, doc-epilogue, doc-errata, doc-foreward, doc-glossary, doc-index, doc-introduction, doc-pagelist, doc-part, doc-pagebreak, doc-prologue, and doc-toc to be navigation or region landmarks.</li>
						<li>28-Sep-2016: doc-abstract, doc-colophon, doc-credit, doc-dedication, doc-epigraph, doc-example and doc-qna are all to IA2_ROLE_SECTION; doc-notice, doc-tip mapped to IA2_ROLE_NOTE; convert a number of MSAA and IA2 roles to have &lt;code&gt; styling</li>


                            			
                        		</ul>
				</section>
                	</section>
			<section class="appendix informative section" id="acknowledgements">
				<h3 id="a-2-acknowledgments"><bdi class="secno">A.2 </bdi>Acknowledgments<a class="self-link" aria-label="§" href="#acknowledgements"></a></h3><p><em>This section is non-normative.</em></p>
				<p>The following people contributed to the development of this document.</p>
				<section class="section" id="ack_dpub">
					<h4 id="a-2-1-participants-active-in-the-dpub-aria-task-force-at-the-time-of-publication"><bdi class="secno">A.2.1 </bdi>Participants active in the DPUB-ARIA task force at the time of publication<a class="self-link" aria-label="§" href="#ack_dpub"></a></h4>
					<ul>
						<li>Michael Cooper (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
						<li>Heather Flanagan (Invited expert)</li>
						<li>Matt Garrish (DAISY Consortium)</li>
						<li>Markus Gylling (DAISY Consortium)</li>
						<li>Ivan Herman (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
						<li>Deborah Kaplan (Invited expert)</li>
						<li>George Kerscher (DAISY Consortium)</li>
						<li>Peter Krautzberger (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
						<li>Charles LaPierre (Benetech)</li>
						<li>Shane McCarron (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
						<li>Janina Sajka (Invited Expert, The Linux Foundation)</li>
						<li>Richard Schwerdtfeger (Knowbility)</li>
						<li>Tzviya Siegman (Wiley)</li>
					</ul>
					<p>The group would like to thank all members of the DAISY and EPUB 3 working groups who developed the structural semantics vocabulary from which this module was drawn, with special thanks to Sanders Kleinfeld for his assistance analyzing the initial set of semantics for inclusion.</p>
				</section>
				<section class="section" id="ack_funders">
	<h4 id="a-2-2-enabling-funders"><bdi class="secno">A.2.2 </bdi>Enabling funders<a class="self-link" aria-label="§" href="#ack_funders"></a></h4>
	<p>This publication has been funded in part with U.S. Federal funds from the Department of Education, National Institute on Disability, Independent Living, and Rehabilitation Research (NIDILRR), initially under contract number ED-OSE-10-C-0067 and currently under contract number HHSP23301500054C. The content of this publication does not necessarily reflect the views or policies of the U.S. Department of Education, nor does mention of trade names, commercial products, or organizations imply endorsement by the U.S. Government.</p>
</section>

			</section>
		</section>
	

<section id="references" class="appendix"><h2 id="b-references"><bdi class="secno">B. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
    <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-accname-aam-1.1">[ACCNAME-AAM-1.1]</dt><dd><a href="https://www.w3.org/TR/accname-1.1/"><cite>Accessible Name and Description Computation 1.1</cite></a>. Joanmarie Diggs; Bryan Garaventa; Michael Cooper.  W3C. 18 December 2018. W3C Recommendation. URL: <a href="https://www.w3.org/TR/accname-1.1/">https://www.w3.org/TR/accname-1.1/</a></dd><dt id="bib-core-aam-1.1">[CORE-AAM-1.1]</dt><dd><a href="https://www.w3.org/TR/core-aam-1.1/"><cite>Core Accessibility API Mappings 1.1</cite></a>. Joanmarie Diggs; Joseph Scheuhammer; Richard Schwerdtfeger; Michael Cooper; Andi Snow-Weaver; Aaron Leventhal.  W3C. 14 December 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/core-aam-1.1/">https://www.w3.org/TR/core-aam-1.1/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>Informative references<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-dpub-aria-1.0">[dpub-aria-1.0]</dt><dd><a href="https://www.w3.org/TR/dpub-aria-1.0/"><cite>Digital Publishing WAI-ARIA Module 1.0</cite></a>. Matt Garrish; Tzviya Siegman; Markus Gylling; Shane McCarron.  W3C. 14 December 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/dpub-aria-1.0/">https://www.w3.org/TR/dpub-aria-1.0/</a></dd><dt id="bib-wai-aria">[wai-aria]</dt><dd><a href="https://www.w3.org/TR/wai-aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.0</cite></a>. James Craig; Michael Cooper et al.  W3C. 20 March 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wai-aria/">https://www.w3.org/TR/wai-aria/</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>